(this["webpackJsonpreactjs-blog-web"]=this["webpackJsonpreactjs-blog-web"]||[]).push([[0],{245:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(50),s=c.n(a),o=c(15),r=c(8),i=c(21),l=c(22),j=c(26),O=c(25),d=c(7),b=c(23),u=c(39),p=c.n(u),h={FETCH_POSTS:"FETCH_POSTS",CREATE_POST:"CREATE_POST",FETCH_POST:"FETCH_POST",DELETE_POST:"DELETE_POST"};c(134).config();var E="develop"===Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_REDUXBLOG_API_BASE_URL:"",REACT_APP_REDUXBLOG_API_KEY:""}).ENVIRONMENT,_={ENVIRONMENT:Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_REDUXBLOG_API_BASE_URL:"",REACT_APP_REDUXBLOG_API_KEY:""}).ENVIRONMENT,DEVELOP:E,REDUXBLOG_API_BASE_URL:"",REDUXBLOG_API_KEY:""},m={fetchPosts:function(){var e=p.a.get("".concat(_.REDUXBLOG_API_BASE_URL,"/api/posts?key=").concat(_.REDUXBLOG_API_KEY));return{type:h.FETCH_POSTS,payload:e}},createPost:function(e){var t=p.a.post("".concat(_.REDUXBLOG_API_BASE_URL,"/api/posts?key=").concat(_.REDUXBLOG_API_KEY),e);return{type:h.CREATE_POST,payload:t}},fetchPost:function(e){var t=p.a.get("".concat(_.REDUXBLOG_API_BASE_URL,"/api/posts/").concat(e,"?key=").concat(_.REDUXBLOG_API_KEY));return{type:h.FETCH_POST,payload:t}},deletePost:function(e){var t=p.a.delete("".concat(_.REDUXBLOG_API_BASE_URL,"/api/posts/").concat(e,"?key=").concat(_.REDUXBLOG_API_KEY));return{type:h.DELETE_POST,payload:t}}},P=c(2),v=function(e){Object(j.a)(c,e);var t=Object(O.a)(c);function c(){var e;Object(i.a)(this,c);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).renderPosts=function(){return e.props.posts&&e.props.posts.map((function(e){return Object(P.jsx)("div",{className:"item",children:Object(P.jsxs)("div",{className:"content",children:[Object(P.jsx)("div",{className:"ui one column grid",children:Object(P.jsx)("div",{className:"row",children:Object(P.jsx)("div",{className:"sixteen wide column",children:Object(P.jsxs)(b.a,{to:"post/".concat(e.id),children:[Object(P.jsx)("span",{className:"ui right floated",children:e.categories}),Object(P.jsx)("div",{className:"header",children:e.title})]})})})}),Object(P.jsx)("div",{className:"description"})]})},e.id)}))},e}return Object(l.a)(c,[{key:"componentWillMount",value:function(){this.props.fetchPosts()}},{key:"render",value:function(){return Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{className:"ui one column grid",children:Object(P.jsx)("div",{className:"row",children:Object(P.jsx)("div",{className:"sixteen wide column",children:Object(P.jsx)(b.a,{to:"/posts/new",className:"ui right floated primary button",children:"Add a Post"})})})}),Object(P.jsx)("h3",{children:"Posts"}),Object(P.jsx)("div",{className:"ui relaxed divided list",children:this.renderPosts()})]})}}]),c}(n.Component);var x=Object(o.b)((function(e){return{posts:e.posts.all}}),(function(e){return Object(d.b)({fetchPosts:m.fetchPosts},e)}))(v),f=c(19),T=c(247),S=c(246),N=c(10),R=Object(N.a)(),A=function(e){Object(j.a)(c,e);var t=Object(O.a)(c);function c(){return Object(i.a)(this,c),t.apply(this,arguments)}return Object(l.a)(c,[{key:"onSubmit",value:function(e){this.props.createPost(e).then((function(){R.push("/")}))}},{key:"render",value:function(){var e=function(e){var t=e.input,c=e.name,n=e.label,a=e.type,s=e.meta,o=s.touched,r=s.error;return Object(P.jsxs)("div",{className:"field  ".concat(o&&r?"error":""),children:[Object(P.jsx)("label",{children:n}),Object(P.jsxs)("div",{children:[Object(P.jsx)("input",Object(f.a)(Object(f.a)({},t),{},{placeholder:n,type:a,name:c})),o&&r&&Object(P.jsx)("div",{className:"ui red message",children:r})]})]})},t=this.props,c=t.handleSubmit,n=t.invalid;return Object(P.jsxs)("form",{className:"ui form",onSubmit:c(this.onSubmit.bind(this)),children:[Object(P.jsx)("h3",{children:"Create a New Post"}),Object(P.jsx)(T.a,{name:"title",label:"Title",component:e,type:"text"}),Object(P.jsx)(T.a,{name:"categories",label:"Categories",component:e,type:"text"}),Object(P.jsx)(T.a,{name:"content",component:function(e){var t=e.input,c=e.name,n=e.label,a=e.meta,s=a.touched,o=a.error;return Object(P.jsxs)("div",{className:"field  ".concat(s&&o?"error":""),children:[Object(P.jsx)("label",{children:n}),Object(P.jsxs)("div",{children:[Object(P.jsx)("textarea",Object(f.a)(Object(f.a)({},t),{},{placeholder:n,name:c})),s&&o&&Object(P.jsx)("div",{className:"ui red message",children:o})]})]})},label:"Content"}),Object(P.jsx)("button",{type:"submit",className:"ui primary button",disabled:n,children:"Submit"}),Object(P.jsx)(b.a,{to:"/",className:"ui negative button",children:"Cancel"})]})}}]),c}(n.Component);var y=Object(S.a)({form:"PostsNewForm",validate:function(e){var t={};return e.title||(t.title="Enter a title"),e.categories||(t.categories="Enter a categories"),e.content||(t.content="Enter some content"),t}})(Object(o.b)(null,(function(e){return Object(d.b)({createPost:m.createPost},e)}))(A)),C=function(e){Object(j.a)(c,e);var t=Object(O.a)(c);function c(){var e;Object(i.a)(this,c);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onDeleteClick=function(){e.props.deletePost(e.props.match.params.id)},e}return Object(l.a)(c,[{key:"componentWillMount",value:function(){this.props.fetchPost(this.props.match.params.id)}},{key:"render",value:function(){var e=this.props.post;return e?Object(P.jsxs)("div",{children:[Object(P.jsx)(b.a,{to:"/",children:"Back to Index"}),Object(P.jsx)("button",{className:"ui negative right floated button",onClick:this.onDeleteClick.bind(this),children:"Delete Post"}),Object(P.jsx)("h3",{children:e.title}),Object(P.jsxs)("h6",{children:["Categories: ",e.categories]}),Object(P.jsx)("p",{children:e.content})]}):Object(P.jsx)("div",{children:"Loading..."})}}]),c}(n.Component),D=Object(o.b)((function(e){return{post:e.posts.post}}),(function(e){return Object(d.b)({fetchPost:m.fetchPost,deletePost:m.deletePost},e)}))(C),L=function(){return Object(P.jsxs)(r.b,{history:R,children:[Object(P.jsx)(r.a,{path:"/",component:x,exact:!0}),Object(P.jsx)(r.a,{path:"/posts/new",component:y,exact:!0}),Object(P.jsx)(r.a,{path:"/post/:id",component:D,exact:!0})]})},g=c(106),U=c.n(g),B=c(248),I={all:[],post:null},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.FETCH_POSTS:return Object(f.a)(Object(f.a)({},e),{},{all:t.payload.data});case h.FETCH_POST:return Object(f.a)(Object(f.a)({},e),{},{post:t.payload.data});default:return e}},X=Object(d.c)({posts:w,form:B.a}),k=Object(d.a)(U.a)(d.d)(X,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),G=function(e){Object(j.a)(c,e);var t=Object(O.a)(c);function c(){return Object(i.a)(this,c),t.apply(this,arguments)}return Object(l.a)(c,[{key:"render",value:function(){return Object(P.jsx)("div",{className:"ui container",children:this.props.children})}}]),c}(n.Component);s.a.render(Object(P.jsx)(o.a,{store:k,children:Object(P.jsx)(G,{children:Object(P.jsx)(L,{})})}),document.querySelector("#root"))}},[[245,1,2]]]);
//# sourceMappingURL=main.817af48d.chunk.js.map