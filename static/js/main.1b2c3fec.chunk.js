(this["webpackJsonpreactjs-blog-web"]=this["webpackJsonpreactjs-blog-web"]||[]).push([[0],{245:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(49),o=n.n(a),r=n(18),s=n(8),i=n(27),l=n(28),O=n(31),b=n(30),j=n(7),u=n(35),d=n(69),_=n.n(d),E={FETCH_POSTS:"FETCH_POSTS",CREATE_POST:"CREATE_POST"};n(134).config();var p="develop"===Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_REDUXBLOG_API_BASE_URL:"",REACT_APP_REDUXBLOG_API_KEY:""}).ENVIRONMENT,h={ENVIRONMENT:Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_REDUXBLOG_API_BASE_URL:"",REACT_APP_REDUXBLOG_API_KEY:""}).ENVIRONMENT,DEVELOP:p,REDUXBLOG_API_BASE_URL:"",REDUXBLOG_API_KEY:""},m={fetchPosts:function(){var e=_.a.get("".concat(h.REDUXBLOG_API_BASE_URL,"/api/posts?key=").concat(h.REDUXBLOG_API_KEY));return{type:E.FETCH_POSTS,payload:e}},createPost:function(e){var t=_.a.post("".concat(h.REDUXBLOG_API_BASE_URL,"/api/posts?key=").concat(h.REDUXBLOG_API_KEY),e);return{type:E.CREATE_POST,payload:t}}},S=n(4),P=function(e){Object(O.a)(n,e);var t=Object(b.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentWillMount",value:function(){this.props.fetchPosts()}},{key:"render",value:function(){return Object(S.jsxs)("div",{children:[Object(S.jsx)("div",{className:"ui one column grid",children:Object(S.jsx)("div",{className:"row",children:Object(S.jsx)("div",{className:"sixteen wide column",children:Object(S.jsx)(u.a,{to:"/posts/new",className:"ui right floated primary button",children:"Add a Post"})})})}),"List of blog posts."]})}}]),n}(c.Component);var v=Object(r.b)(null,(function(e){return Object(j.b)({fetchPosts:m.fetchPosts},e)}))(P),T=n(22),f=n(247),x=n(246),R=n(10),A=Object(R.a)(),N=function(e){Object(O.a)(n,e);var t=Object(b.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"onSubmit",value:function(e){this.props.createPost(e).then((function(){A.push("/")}))}},{key:"render",value:function(){var e=function(e){var t=e.input,n=e.name,c=e.label,a=e.type,o=e.meta,r=o.touched,s=o.error;return Object(S.jsxs)("div",{className:"field  ".concat(r&&s?"error":""),children:[Object(S.jsx)("label",{children:c}),Object(S.jsxs)("div",{children:[Object(S.jsx)("input",Object(T.a)(Object(T.a)({},t),{},{placeholder:c,type:a,name:n})),r&&s&&Object(S.jsx)("div",{className:"ui red message",children:s})]})]})},t=this.props,n=t.handleSubmit,c=t.invalid;return Object(S.jsxs)("form",{className:"ui form",onSubmit:n(this.onSubmit.bind(this)),children:[Object(S.jsx)("h3",{children:"Create a New Post"}),Object(S.jsx)(f.a,{name:"title",label:"Title",component:e,type:"text"}),Object(S.jsx)(f.a,{name:"categories",label:"Categories",component:e,type:"text"}),Object(S.jsx)(f.a,{name:"content",component:function(e){var t=e.input,n=e.name,c=e.label,a=e.meta,o=a.touched,r=a.error;return Object(S.jsxs)("div",{className:"field  ".concat(o&&r?"error":""),children:[Object(S.jsx)("label",{children:c}),Object(S.jsxs)("div",{children:[Object(S.jsx)("textarea",Object(T.a)(Object(T.a)({},t),{},{placeholder:c,name:n})),o&&r&&Object(S.jsx)("div",{className:"ui red message",children:r})]})]})},label:"Content"}),Object(S.jsx)("button",{type:"submit",className:"ui primary button",disabled:c,children:"Submit"}),Object(S.jsx)(u.a,{to:"/",className:"ui negative button",children:"Cancel"})]})}}]),n}(c.Component);var C=Object(x.a)({form:"PostsNewForm",validate:function(e){var t={};return e.title||(t.title="Enter a title"),e.categories||(t.categories="Enter a categories"),e.content||(t.content="Enter some content"),t}})(Object(r.b)(null,(function(e){return Object(j.b)({createPost:m.createPost},e)}))(N)),y=function(){return Object(S.jsxs)(s.b,{history:A,children:[Object(S.jsx)(s.a,{path:"/",component:v,exact:!0}),Object(S.jsx)(s.a,{path:"/posts/new",component:C,exact:!0})]})},D=n(106),L=n.n(D),U=n(248),g={all:[],post:null},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.FETCH_POSTS:return Object(T.a)(Object(T.a)({},e),{},{all:t.payload.data});default:return e}},I=Object(j.c)({posts:B,form:U.a}),w=Object(j.a)(L.a)(j.d)(I,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),X=function(e){Object(O.a)(n,e);var t=Object(b.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(S.jsx)("div",{className:"ui container",children:this.props.children})}}]),n}(c.Component);o.a.render(Object(S.jsx)(r.a,{store:w,children:Object(S.jsx)(X,{children:Object(S.jsx)(y,{})})}),document.querySelector("#root"))}},[[245,1,2]]]);
//# sourceMappingURL=main.1b2c3fec.chunk.js.map